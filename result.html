<!-- 검색 결괴(조회) -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>result</title>
    <style>
        #result {
            white-space: pre-line; /* 줄바꿈을 적용 */
        }
    </style>
</head>
<body>
    <header>
        <a href="index.html">logo</a>
        <nav class="navbar">
            <ul>
                <li><a href="index.html">검색</a></li>
                <li><a href="enroll.html">등록</a></li>
                <li><a href="help.html">문의하기</a></li>
            </ul>
        </nav>
    </header>
    <div class="container">
        <h1>조회 결과</h1>
        <p id="result"></p>
    </div>
    <div class="container">
        <h2>사건 개요 리스트</h2>
        <ul id="case-list"></ul>
    </div>

    <script>
        // URL 파라미터에서 address 값을 가져와 표시
        const params = new URLSearchParams(window.location.search);
        const address = params.get('address');
        document.getElementById('result').textContent = address 
            ? `"${address}"\n이 주소는 신고된 내역이 습니다.`
            : '매물 주소가 제공되지 않았습니다.';

        // localStorage에서 사건 개요 리스트 가져오기
        const caseListArray = JSON.parse(localStorage.getItem('caseList') || '[]');

        // 사건 개요 리스트를 HTML에 표시
        const caseListElement = document.getElementById('case-list');
        if (caseListArray.length > 0) {
            caseListArray.forEach((description, index) => {
                const listItem = document.createElement('li');
                listItem.textContent = `${index + 1} - ${description}`;
                caseListElement.appendChild(listItem);
            });
        } else {
            // 저장된 사건 개요가 없을 경우
            const noDataItem = document.createElement('li');
            noDataItem.textContent = '저장된 사건 개요가 없습니다.';
            caseListElement.appendChild(noDataItem);
        }
    </script>
</body>
</html>